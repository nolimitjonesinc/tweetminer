<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TweetMiner Bookmarklet</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: #fff;
      color: #111;
      line-height: 1.6;
      padding: 40px 20px;
    }
    .container {
      max-width: 640px;
      margin: 0 auto;
    }
    h1 {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 12px;
    }
    .subtitle {
      font-size: 16px;
      color: #666;
      margin-bottom: 40px;
    }
    .bookmarklet-button {
      display: inline-block;
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
      padding: 16px 32px;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 600;
      text-decoration: none;
      cursor: grab;
      box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
      transition: transform 0.15s, box-shadow 0.15s;
    }
    .bookmarklet-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
    }
    .bookmarklet-button:active {
      cursor: grabbing;
    }
    .install-box {
      background: #f8fafc;
      border: 2px dashed #e2e8f0;
      border-radius: 16px;
      padding: 32px;
      text-align: center;
      margin-bottom: 40px;
    }
    .drag-hint {
      margin-top: 16px;
      font-size: 14px;
      color: #64748b;
    }
    h2 {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 16px;
      margin-top: 40px;
    }
    ol {
      padding-left: 24px;
    }
    li {
      margin-bottom: 12px;
      color: #374151;
    }
    .platform-list {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 24px 0;
    }
    .platform-tag {
      background: #f1f5f9;
      border-radius: 8px;
      padding: 8px 14px;
      font-size: 14px;
      color: #475569;
    }
    .note {
      background: #fef3c7;
      border: 1px solid #fcd34d;
      border-radius: 8px;
      padding: 16px;
      font-size: 14px;
      color: #92400e;
      margin-top: 32px;
    }
    .back-link {
      display: inline-block;
      margin-top: 40px;
      color: #6b7280;
      text-decoration: none;
      font-size: 14px;
    }
    .back-link:hover {
      color: #111;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>TweetMiner Bookmarklet</h1>
    <p class="subtitle">One-click analysis from any supported site. No extension needed.</p>

    <div class="install-box">
      <a class="bookmarklet-button" href="javascript:(function(){const e='https://tweetminer.nolimitjones.com';function t(){const e=window.location.hostname;return e.includes('twitter.com')||e.includes('x.com')?'twitter':e.includes('reddit.com')?'reddit':e.includes('linkedin.com')?'linkedin':e.includes('ycombinator.com')?'hackernews':e.includes('youtube.com')?'youtube':'other'}function n(){const e=window.location.href,t=/\/(status|tweet)\/\d+/.test(e);let n='',o='',r='';if(t){const e=document.querySelectorAll('article[data-testid=%22tweet%22]');if(e.length>0){const t=e[0],c=t.querySelector('[data-testid=%22tweetText%22]');n=c?c.innerText.trim():'';const i=t.querySelectorAll('a[href^=%22/%22]');for(const e of i){const t=e.getAttribute('href');if(t&&t.match(/^\/[a-zA-Z0-9_]+$/)&&!t.includes('/status')){r=t.slice(1);break}}const s=[];for(let t=1;t<Math.min(e.length,51);t++){const n=e[t].querySelector('[data-testid=%22tweetText%22]');n&&s.push(n.innerText.trim())}o=s.join('\n\n')}}return{mainContent:n,replies:o,author:r,url:e,platform:'twitter'}}function o(){const e=window.location.href;let t='',n='',o='';if(document.querySelector('shreddit-post')){const r=document.querySelector('shreddit-post'),c=r?.querySelector('h1')||document.querySelector('h1'),i=document.querySelector('[slot=%22text-body%22]')||document.querySelector('[data-click-id=%22text%22]');o=r?.getAttribute('author')||'unknown',t=(c?.innerText||'')+'\n\n'+(i?.innerText||'');const s=document.querySelectorAll('shreddit-comment'),l=[];for(let e=0;e<Math.min(s.length,50);e++){const t=s[e],n=t.getAttribute('author')||'unknown',o=t.querySelector('[slot=%22comment%22]')?.innerText||'';o.trim()&&l.push(`u/${n}: ${o.trim()}`)}n=l.join('\n\n')}else if(document.querySelector('.thing.link')){const r=document.querySelector('a.title')?.innerText||'',c=document.querySelector('.usertext-body')?.innerText||'';o=document.querySelector('.author')?.innerText||'unknown',t=r+'\n\n'+c;const i=document.querySelectorAll('.comment .usertext-body'),s=document.querySelectorAll('.comment .author'),l=[];for(let e=0;e<Math.min(i.length,50);e++){const t=i[e]?.innerText||'',n=s[e]?.innerText||'unknown';t.trim()&&l.push(`u/${n}: ${t.trim()}`)}n=l.join('\n\n')}return{mainContent:t.trim(),replies:n,author:o,url:e,platform:'reddit'}}function r(){const e=window.location.href;let t='',n='',o='';const r=document.querySelector('.feed-shared-update-v2')||document.querySelector('[data-urn]')||document.querySelector('.share-update-card');if(r){const e=r.querySelector('.update-components-actor__name')||r.querySelector('.feed-shared-actor__name');o=e?.innerText?.trim()||'unknown';const n=r.querySelector('.feed-shared-update-v2__description')||r.querySelector('.feed-shared-text')||r.querySelector('.break-words');t=n?.innerText?.trim()||''}const c=document.querySelectorAll('.comments-comment-item'),i=[];return c.forEach((e,t)=>{if(t>=50)return;const n=e.querySelector('.comments-post-meta__name-text')?.innerText||'unknown',o=e.querySelector('.comments-comment-item__main-content')?.innerText||'';o.trim()&&i.push(`${n.trim()}: ${o.trim()}`)}),n=i.join('\n\n'),{mainContent:t,replies:n,author:o,url:e,platform:'linkedin'}}function c(){const e=window.location.href;let t='',n='';const o=document.querySelector('.titleline > a')?.innerText||'',r=document.querySelector('.toptext')?.innerText||'',c=document.querySelector('.hnuser')?.innerText||'unknown';t=o+(r?'\n\n'+r:'');const i=document.querySelectorAll('.comtr'),s=[];for(let e=0;e<Math.min(i.length,50);e++){const t=i[e],n=t.querySelector('.hnuser')?.innerText||'unknown',o=t.querySelector('.commtext')?.innerText||'';o.trim()&&s.push(`${n}: ${o.trim()}`)}return n=s.join('\n\n'),{mainContent:t,replies:n,author:c,url:e,platform:'hackernews'}}function i(){const e=window.location.href;let t='',n='';const o=(document.querySelector('h1.ytd-video-primary-info-renderer')||document.querySelector('h1.title'))?.innerText||'',r=(document.querySelector('#channel-name a')||document.querySelector('ytd-channel-name a'))?.innerText||'unknown',c=(document.querySelector('#description-inline-expander')||document.querySelector('ytd-text-inline-expander')||document.querySelector('#description'))?.innerText||'';t=`${o}\n\nBy: ${r}\n\n${c}`;const i=document.querySelectorAll('ytd-comment-thread-renderer'),s=[];for(let e=0;e<Math.min(i.length,50);e++){const t=i[e],n=t.querySelector('#author-text')?.innerText?.trim()||'unknown',o=t.querySelector('#content-text')?.innerText||'';o.trim()&&s.push(`${n}: ${o.trim()}`)}return n=s.join('\n\n'),{mainContent:t,replies:n,author:r,url:e,platform:'youtube'}}function s(){const e=window.location.href,t=window.getSelection().toString();let n=t||'';if(!n){const e=document.querySelector('article');if(e)n=e.innerText.slice(0,5e3);else{const e=document.querySelector('h1');e&&(n=e.innerText)}}return{mainContent:n,replies:'',author:'',url:e,platform:'other'}}const l=function(){switch(t()){case'twitter':return n();case'reddit':return o();case'linkedin':return r();case'hackernews':return c();case'youtube':return i();default:return s()}}();if(!l.mainContent)return void alert('TweetMiner: No content found. Try selecting some text first.');const a=new URLSearchParams;l.mainContent&&a.set('tweet',l.mainContent),l.replies&&a.set('replies',l.replies),l.author&&a.set('author',l.author),l.url&&a.set('source',l.url),l.platform&&a.set('platform',l.platform),window.open(`${e}?${a.toString()}`,'_blank')})();">Analyze with TweetMiner</a>
      <p class="drag-hint">Drag this button to your bookmarks bar</p>
    </div>

    <h2>How to Install</h2>
    <ol>
      <li>Make sure your bookmarks bar is visible (Cmd+Shift+B on Mac, Ctrl+Shift+B on Windows)</li>
      <li>Drag the green button above to your bookmarks bar</li>
      <li>That's it! Click it on any supported page to analyze content</li>
    </ol>

    <h2>Supported Platforms</h2>
    <div class="platform-list">
      <span class="platform-tag">Twitter/X</span>
      <span class="platform-tag">Reddit</span>
      <span class="platform-tag">LinkedIn</span>
      <span class="platform-tag">Hacker News</span>
      <span class="platform-tag">YouTube</span>
      <span class="platform-tag">Any page (select text)</span>
    </div>

    <h2>How It Works</h2>
    <ol>
      <li>Navigate to a post, thread, or video on a supported platform</li>
      <li>Click the bookmarklet in your bookmarks bar</li>
      <li>TweetMiner opens with the content pre-filled</li>
      <li>Choose your analysis mode and get insights</li>
    </ol>

    <div class="note">
      <strong>Tip:</strong> On unsupported sites, select the text you want to analyze first, then click the bookmarklet.
    </div>

    <a href="/" class="back-link">&larr; Back to TweetMiner</a>
  </div>
</body>
</html>
